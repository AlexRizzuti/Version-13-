:root{
  --bg:#0f1115; --card:#171a21; --ink:#e9ecf1; --muted:#a7b0bd;
  --brand:#4da3ff; --accent:#62e0a6; --warn:#ffb84d; --danger:#ff6b6b; --line:#242a34;
}
:root[data-theme="light"]{
  --bg:#f6f7fb; --card:#ffffff; --ink:#0c1220; --muted:#566074; --line:#e6e8ef;
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}
.container{max-width:980px;margin:0 auto;padding:18px}
header{display:flex;align-items:center;gap:12px;margin-bottom:12px;flex-wrap:wrap}
h1{font-size:24px;margin:0}
.badge{padding:4px 10px;border-radius:999px;background:var(--card);color:var(--muted);border:1px solid var(--line);font-size:12px}
.controls{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 16px}
select,button,input[type="number"],input[type="text"]{
  background:var(--card);color:var(--ink);border:1px solid var(--line);border-radius:10px;padding:10px 12px;font-size:14px}
button{cursor:pointer} button.primary{background:var(--brand);color:#061525;border:none}
button.success{background:var(--accent);color:#062016;border:none}
button.warn{background:var(--warn);color:#221a00;border:none}
button.ghost{background:transparent;border:1px solid var(--line)}
.row{display:flex;gap:12px;flex-wrap:wrap}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;margin:10px 0;position:relative}
.card h3{margin:0 0 6px 0}
.kv{color:var(--muted);font-size:13px}
.tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:6px}
.tag{font-size:11px;color:var(--muted);border:1px solid var(--line);padding:3px 8px;border-radius:999px}
.actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.grid{display:grid;grid-template-columns:1fr;gap:10px}
@media(min-width:760px){.grid{grid-template-columns:1fr 1fr}}
.progress{height:10px;background:#0b0d12;border-radius:999px;overflow:hidden;border:1px solid var(--line)}
.progress>div{height:100%;background:linear-gradient(90deg,var(--brand),#7bd0ff);width:0%}
.small{font-size:12px;color:var(--muted)}
footer{opacity:.7;font-size:12px;margin:24px 0 10px}
.toggle{margin-left:auto;display:flex;align-items:center;gap:6px}
.card.current{outline:2px solid var(--brand)} .timer-big{font-size:28px;font-weight:700}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:20px;z-index:1000}
.modal .sheet{background:var(--card);border:1px solid var(--line);border-radius:16px;max-width:760px;width:100%;padding:16px}
.modal header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.modal input{width:100%;margin-bottom:8px}
.list{max-height:360px;overflow:auto;border:1px solid var(--line);border-radius:12px;margin-top:6px}
.list .group{padding:8px 10px;border-bottom:1px solid var(--line)}
.list .group h4{margin:0 0 6px 0;font-size:13px;color:var(--muted)}
.list button{display:block;width:100%;text-align:left;padding:10px 12px;border:0;border-radius:10px;background:transparent;color:var(--ink)}
.list button:hover{background:rgba(255,255,255,.06)}
.chips{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.chip{border:1px solid var(--line);color:var(--muted);padding:4px 8px;border-radius:999px;font-size:11px}
.settings-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.settings-grid label{display:flex;align-items:center;gap:8px;background:var(--card);
  border:1px solid var(--line);padding:8px 10px;border-radius:10px;white-space:nowrap}
.settings-grid input{transform:scale(1.1)}
@media(min-width:700px){.settings-grid{grid-template-columns:repeat(3,1fr)}}

/* FIX: Allow Settings labels to wrap properly */
.settings-grid label {
  white-space: normal;
  word-break: break-word;
  line-height: 1.3;
}
